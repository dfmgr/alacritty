# Alacritty Configuration
# See: https://alacritty.org/config-alacritty.html

[general]
# Import theme - change to use a different theme from ./themes/
import = ["./themes/dracula.toml"]
live_config_reload = true

[env]
TERM = "xterm-256color"

[colors]
draw_bold_text_with_bright_colors = true

[font]
size = 11.0

[font.bold]
family = "Hack"
style = "Bold"

[font.bold_italic]
family = "Hack"
style = "Bold Italic"

[font.italic]
family = "Hack"
style = "Italic"

[font.normal]
family = "Hack"
style = "Regular"

[font.offset]
x = 0
y = 1

[scrolling]
history = 5000

[bell]
animation = "EaseOutExpo"
color = "#ffffff"
duration = 1

[window]
dynamic_padding = false
dynamic_title = true
opacity = 0.98
startup_mode = "Maximized"
title = "Alacritty"

[window.class]
instance = "Alacritty"
general = "Alacritty"

[window.padding]
x = 6
y = 6

[cursor]
unfocused_hollow = true
blink_interval = 500
blink_timeout = 0

[cursor.style]
shape = "Beam"
blinking = "On"

[mouse]
hide_when_typing = true

[selection]
save_to_clipboard = false
semantic_escape_chars = ",│`|:\"' ()[]{}<>\t"

[terminal]
osc52 = "CopyPaste"
# Uncomment ONE of the following to auto-start a multiplexer:
# shell = { program = "/usr/bin/tmux", args = ["new-session", "-A", "-s", "main"] }
# shell = { program = "/usr/bin/screen", args = ["-xRR"] }
# shell = { program = "/usr/bin/zellij", args = ["attach", "--create", "main"] }

[debug]
persistent_logging = true

# ====================
# Mouse Bindings
# ====================
[[mouse.bindings]]
mouse = "Middle"
action = "PasteSelection"

[[mouse.bindings]]
mouse = "Right"
action = "Paste"

# Ctrl+click to open URLs
[[mouse.bindings]]
mouse = "Left"
mods = "Control"
action = "Open"

# ====================
# Hints (keyboard-driven URL/path opening)
# ====================
# Press Ctrl+Shift+O to highlight URLs, then type the hint key to open
[[hints.enabled]]
regex = "(ipfs:|ipns:|magnet:|mailto:|gemini://|gopher://|https://|http://|news:|file:|git://|ssh:|ftp://)[^\u0000-\u001F\u007F-\u009F<>\"\\s{-}\\^⟨⟩`]+"
hyperlinks = true
command = "xdg-open"
post_processing = true
binding = { key = "O", mods = "Control|Shift" }
mouse = { enabled = true, mods = "None" }

# File paths (Ctrl+Shift+P)
[[hints.enabled]]
regex = "(~|/)[\\w./-]+"
hyperlinks = false
command = { program = "sh", args = ["-c", "if [ -d \"$0\" ]; then xdg-open \"$0\"; elif [ -f \"$0\" ]; then ${EDITOR:-vim} \"$0\"; fi"] }
post_processing = false
binding = { key = "P", mods = "Control|Shift" }
mouse = { enabled = false }

# IP addresses (Ctrl+Shift+I)
[[hints.enabled]]
regex = "[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}(:[0-9]+)?"
hyperlinks = false
command = { program = "sh", args = ["-c", "echo -n \"$0\" | xclip -selection clipboard && notify-send 'Copied' \"$0\""] }
post_processing = false
binding = { key = "I", mods = "Control|Shift" }
mouse = { enabled = false }

# ====================
# Help (Ctrl+Shift+/ to show keybindings)
# ====================
[[keyboard.bindings]]
key = "Slash"
mods = "Control|Shift"
command = { program = "sh", args = ["-c", "less ~/.config/alacritty/bindings.md 2>/dev/null || less \"$(dirname \"$(readlink -f ~/.config/alacritty/alacritty.toml)\")/bindings.md\" 2>/dev/null || echo 'bindings.md not found'"] }

# ====================
# Clipboard (xfce4-terminal style)
# ====================
[[keyboard.bindings]]
action = "Paste"
key = "V"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "Copy"
key = "C"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "PasteSelection"
key = "Insert"
mods = "Shift"

# ====================
# Font size
# ====================
[[keyboard.bindings]]
action = "ResetFontSize"
key = "0"
mods = "Control"

[[keyboard.bindings]]
action = "IncreaseFontSize"
key = "Equals"
mods = "Control"

[[keyboard.bindings]]
action = "IncreaseFontSize"
key = "Plus"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "DecreaseFontSize"
key = "Minus"
mods = "Control"

# ====================
# Window
# ====================
[[keyboard.bindings]]
action = "ToggleFullscreen"
key = "F11"

[[keyboard.bindings]]
action = "CreateNewWindow"
key = "N"
mods = "Control|Shift"

# ====================
# Clear/Reset
# ====================
[[keyboard.bindings]]
action = "ClearLogNotice"
key = "L"
mods = "Control"

[[keyboard.bindings]]
chars = "\f"
key = "L"
mods = "Control"

[[keyboard.bindings]]
action = "ClearHistory"
key = "K"
mods = "Control|Shift"

# ====================
# Scrolling
# ====================
[[keyboard.bindings]]
action = "ScrollPageUp"
key = "PageUp"
mode = "~Alt"

[[keyboard.bindings]]
action = "ScrollPageDown"
key = "PageDown"
mode = "~Alt"

[[keyboard.bindings]]
action = "ScrollToTop"
key = "Home"
mode = "~Alt"
mods = "Shift"

[[keyboard.bindings]]
action = "ScrollToBottom"
key = "End"
mode = "~Alt"
mods = "Shift"

[[keyboard.bindings]]
action = "ScrollHalfPageUp"
key = "U"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "ScrollHalfPageDown"
key = "D"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "ScrollLineUp"
key = "Up"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "ScrollLineDown"
key = "Down"
mods = "Control|Shift"

# ====================
# Search (Ctrl+Shift+F)
# ====================
[[keyboard.bindings]]
action = "SearchForward"
key = "F"
mods = "Control|Shift"

[[keyboard.bindings]]
action = "SearchBackward"
key = "B"
mods = "Control|Shift"

# Search mode bindings
[[keyboard.bindings]]
action = "SearchConfirm"
key = "Return"
mode = "Search"

[[keyboard.bindings]]
action = "SearchCancel"
key = "Escape"
mode = "Search"

[[keyboard.bindings]]
action = "SearchFocusNext"
key = "N"
mode = "Search"

[[keyboard.bindings]]
action = "SearchFocusPrevious"
key = "N"
mode = "Search"
mods = "Shift"

[[keyboard.bindings]]
action = "SearchFocusNext"
key = "Down"
mode = "Search"

[[keyboard.bindings]]
action = "SearchFocusPrevious"
key = "Up"
mode = "Search"

# ====================
# Vi Mode (toggle with Ctrl+Shift+Space)
# ====================
[[keyboard.bindings]]
action = "ToggleViMode"
key = "Space"
mods = "Control|Shift"

# Vi mode navigation
[[keyboard.bindings]]
action = "Up"
key = "K"
mode = "Vi"

[[keyboard.bindings]]
action = "Down"
key = "J"
mode = "Vi"

[[keyboard.bindings]]
action = "Left"
key = "H"
mode = "Vi"

[[keyboard.bindings]]
action = "Right"
key = "L"
mode = "Vi"

# Vi word movement
[[keyboard.bindings]]
action = "SemanticRight"
key = "W"
mode = "Vi"

[[keyboard.bindings]]
action = "SemanticLeft"
key = "B"
mode = "Vi"

[[keyboard.bindings]]
action = "SemanticRightEnd"
key = "E"
mode = "Vi"

# Vi WORD movement (whitespace delimited)
[[keyboard.bindings]]
action = "WordRight"
key = "W"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "WordLeft"
key = "B"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "WordRightEnd"
key = "E"
mode = "Vi"
mods = "Shift"

# Vi line movement
[[keyboard.bindings]]
action = "First"
key = "0"
mode = "Vi"

[[keyboard.bindings]]
action = "Last"
key = "4"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "FirstOccupied"
key = "6"
mode = "Vi"
mods = "Shift"

# Vi scrolling
[[keyboard.bindings]]
action = "ScrollToTop"
key = "G"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "ScrollToBottom"
key = "G"
mode = "Vi"

[[keyboard.bindings]]
action = "ScrollHalfPageUp"
key = "U"
mode = "Vi"
mods = "Control"

[[keyboard.bindings]]
action = "ScrollHalfPageDown"
key = "D"
mode = "Vi"
mods = "Control"

[[keyboard.bindings]]
action = "High"
key = "H"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "Middle"
key = "M"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "Low"
key = "L"
mode = "Vi"
mods = "Shift"

# Vi selection
[[keyboard.bindings]]
action = "ToggleNormalSelection"
key = "V"
mode = "Vi"

[[keyboard.bindings]]
action = "ToggleLineSelection"
key = "V"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "ToggleBlockSelection"
key = "V"
mode = "Vi"
mods = "Control"

# Vi search
[[keyboard.bindings]]
action = "SearchForward"
key = "Slash"
mode = "Vi"

[[keyboard.bindings]]
action = "SearchBackward"
key = "Slash"
mode = "Vi"
mods = "Shift"

[[keyboard.bindings]]
action = "SearchNext"
key = "N"
mode = "Vi"

[[keyboard.bindings]]
action = "SearchPrevious"
key = "N"
mode = "Vi"
mods = "Shift"

# Vi copy and exit
[[keyboard.bindings]]
action = "Copy"
key = "Y"
mode = "Vi"

[[keyboard.bindings]]
action = "ClearSelection"
key = "Escape"
mode = "Vi"

[[keyboard.bindings]]
action = "ToggleViMode"
key = "I"
mode = "Vi"

[[keyboard.bindings]]
action = "ToggleViMode"
key = "Q"
mode = "Vi"

# Vi open URLs/hints
[[keyboard.bindings]]
action = "Open"
key = "O"
mode = "Vi"

# Vi bracket matching
[[keyboard.bindings]]
action = "Bracket"
key = "5"
mode = "Vi"
mods = "Shift"

# ====================
# Multiplexer Integration (tmux/screen/zellij)
# ====================
# These send escape sequences that multiplexers can bind to.

# Alt+1 through Alt+9 - send to multiplexer for tab switching
[[keyboard.bindings]]
chars = "\u001b1"
key = "1"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b2"
key = "2"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b3"
key = "3"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b4"
key = "4"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b5"
key = "5"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b6"
key = "6"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b7"
key = "7"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b8"
key = "8"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b9"
key = "9"
mods = "Alt"

# Alt+0 - window 10
[[keyboard.bindings]]
chars = "\u001b0"
key = "0"
mods = "Alt"

# Alt+n - next window
[[keyboard.bindings]]
chars = "\u001bn"
key = "N"
mods = "Alt"

# Alt+p - previous window
[[keyboard.bindings]]
chars = "\u001bp"
key = "P"
mods = "Alt"

# Alt+c - new window
[[keyboard.bindings]]
chars = "\u001bc"
key = "C"
mods = "Alt"

# Alt+d - detach
[[keyboard.bindings]]
chars = "\u001bd"
key = "D"
mods = "Alt"

# Alt+z - zoom/maximize pane
[[keyboard.bindings]]
chars = "\u001bz"
key = "Z"
mods = "Alt"

# Alt+| - vertical split
[[keyboard.bindings]]
chars = "\u001b|"
key = "Backslash"
mods = "Alt|Shift"

# Alt+- - horizontal split
[[keyboard.bindings]]
chars = "\u001b-"
key = "Minus"
mods = "Alt"

# Alt+arrow keys - navigate panes
[[keyboard.bindings]]
chars = "\u001b[1;3A"
key = "Up"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b[1;3B"
key = "Down"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b[1;3C"
key = "Right"
mods = "Alt"

[[keyboard.bindings]]
chars = "\u001b[1;3D"
key = "Left"
mods = "Alt"
